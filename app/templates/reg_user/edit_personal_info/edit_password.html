{% extends 'base_template.html' %}
{% block content %}
<!--Form--> 
<div class="row">    
    <div class="col-sm-4"></div>
    <div class="col-sm-4">
        <div class="wrapper2">
            <form action="{{ url_for('reg_user.edit_password') }}" method="post">
                <div class="form-group">
                    <label for="pwdold"><b>Currently Used Password:</b></label>
                    {{ edit_password_form.current_password(class="form-control", type="password") }}
                </div>
                <div class="form-group">
                    <label for="pwd1"><b>New Password:</b></label>
                    {{ edit_password_form.password(class="form-control", type="password", placeholder="Must contain 1 capital letter, 1 number & at least 8 characters") }}
                </div>
                <div class="form-group">
                    <label for="pwd2"><b>Repeat New Password:</b></label>
                    {{ edit_password_form.confirm_password(class="form-control", type="password", placeholder="Must contain 1 capital letter, 1 number & at least 8 characters") }}
                </div>
                <button type="submit" class="btn btn-default">Submit</button>
            </form>
        </div>            
    </div>
    <div class="col-sm-4"></div>
</div>

<!-- This is the Jinja template using WTForms to determine if the action was successful or not and adapt the layout of the response respectively-->
{% with successes = get_flashed_messages(category_filter=["info"]) %}
    {% if successes %}
        {% for message in successes %}
            <div class="alert alert-success flash">
                {{message}}
            </div>
        {% endfor %}
    {% endif %}
{% endwith %}

{% with errors = get_flashed_messages(category_filter=["error"]) %}
    {% if errors %}
        {% for message in errors %}
            <div class="alert alert-danger flash">
                {{message}}
            </div>
        {% endfor %}
    {% endif %}
{% endwith %}
{% endblock %}
  