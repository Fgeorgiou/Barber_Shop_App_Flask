{% extends 'base_template.html' %}
{% block content %}
<!--Form--> 
<div class="row">    
    <div class="col-sm-4"></div>
    <div class="col-sm-4">
        <div class="wrapper2">
            <form action="{{ url_for('reg_user.edit_email') }}" method="post">
                <div class="form-group">
                    <label for="emailold"><b>Currently Used E-mail:</b></label>
                    <input class="form-control" value="{{ current_edit.email }}" disabled>
                </div>
                <div class="form-group">
                    <label for="email1"><b>New E-mail:</b></label>
                    {{ edit_email_form.email(class='form-control', type=email) }}
                </div>
                <div class="form-group">
                    <label for="email2"><b>Repeat New E-mail:</b></label>
                    {{ edit_email_form.confirm_email(class='form-control', type=email) }}
                </div>
                <button type="submit" class="btn btn-default">Submit</button>
            </form>        
        </div>
    </div>
    <div class="col-sm-4"></div>
</div>

<!-- This is the Jinja template using WTForms to determine if the action was successful or not and adapt the layout of the response respectively-->
{% with successes = get_flashed_messages(category_filter=["info"]) %}
    {% if successes %}
        {% for message in successes %}
            <div class="alert alert-success flash">
                {{message}}
            </div>
        {% endfor %}
    {% endif %}
{% endwith %}

{% with errors = get_flashed_messages(category_filter=["error"]) %}
    {% if errors %}
        {% for message in errors %}
            <div class="alert alert-danger flash">
                {{message}}
            </div>
        {% endfor %}
    {% endif %}
{% endwith %}
{% endblock %}
